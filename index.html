<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>SDG 2 Quiz</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script>
Â  Â  Â  Â  // Tailwind CSS configuration to extend default theme (e.g., add custom fonts)
Â  Â  Â  Â  tailwind.config = {
Â  Â  Â  Â  Â  Â  theme: {
Â  Â  Â  Â  Â  Â  Â  Â  extend: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fontFamily: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inter: ['Inter', 'sans-serif'], // Define 'Inter' font family
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </script>
Â  Â  <style>
Â  Â  Â  Â  /*
Â  Â  Â  Â  Â * Custom styles for specific elements not fully covered by Tailwind,
Â  Â  Â  Â  Â * or for overriding default behaviors for a more specific look.
Â  Â  Â  Â  Â */

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  /* Ensure the body takes full viewport height and allows flexbox centering */
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  /* Gradient Background: bottom left blue to top right pink */
Â  Â  Â  Â  Â  Â  background: linear-gradient(to top right, #3b82f6, #ec4899);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* General styling for question text */
Â  Â  Â  Â  .question-text {
Â  Â  Â  Â  Â  Â  font-size: 1.25rem; /* Equivalent to text-xl */
Â  Â  Â  Â  Â  Â  line-height: 1.75rem; /* Equivalent to leading-7 */
Â  Â  Â  Â  Â  Â  color: #333; /* Darker gray for readability */
Â  Â  Â  Â  Â  Â  margin-bottom: 1.5rem; /* Equivalent to mb-6 */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Container for options (multiple choice, true/false) */
Â  Â  Â  Â  .options-container {
Â  Â  Â  Â  Â  Â  text-align: left; /* Align options to the left */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Individual option labels */
Â  Â  Â  Â  .option-label {
Â  Â  Â  Â  Â  Â  display: block; /* Make each label take full width */
Â  Â  Â  Â  Â  Â  margin-bottom: 0.75rem; /* Space between options */
Â  Â  Â  Â  Â  Â  padding: 0.75rem 1rem; /* Padding inside the label */
Â  Â  Â  Â  Â  Â  border: 1px solid #e0e0e0; /* Light gray border */
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem; /* Rounded corners */
Â  Â  Â  Â  Â  Â  cursor: pointer; /* Indicate interactivity */
Â  Â  Â  Â  Â  Â  transition: all 0.2s ease-in-out; /* Smooth transition for hover effects */
Â  Â  Â  Â  Â  Â  background-color: #f8f8f8; /* Slightly off-white background */
Â  Â  Â  Â  Â  Â  color: #333; /* Text color */
Â  Â  Â  Â  Â  Â  font-size: 1rem; /* Base font size */
Â  Â  Â  Â  }

Â  Â  Â  Â  .option-label:hover {
Â  Â  Â  Â  Â  Â  background-color: #e0e0e0; /* Lighter background on hover */
Â  Â  Â  Â  Â  Â  border-color: #c0c0c0; /* Darker border on hover */
Â  Â  Â  Â  Â  Â  transform: translateY(-2px); /* Slight lift effect */
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow on hover */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Hide default radio buttons visually but keep them functional */
Â  Â  Â  Â  .option-label input[type="radio"] {
Â  Â  Â  Â  Â  Â  appearance: none; /* Remove default radio button styling */
Â  Â  Â  Â  Â  Â  width: 1.25rem; /* Custom size for radio button */
Â  Â  Â  Â  Â  Â  height: 1.25rem;
Â  Â  Â  Â  Â  Â  border: 2px solid #a0a0a0; /* Border for custom radio */
Â  Â  Â  Â  Â  Â  border-radius: 50%; /* Make it round */
Â  Â  Â  Â  Â  Â  margin-right: 0.75rem; /* Space between custom radio and text */
Â  Â  Â  Â  Â  Â  vertical-align: middle; /* Align with text */
Â  Â  Â  Â  Â  Â  outline: none; /* Remove outline on focus */
Â  Â  Â  Â  Â  Â  cursor: pointer; /* Indicate interactivity */
Â  Â  Â  Â  Â  Â  position: relative; /* For custom checked state */
Â  Â  Â  Â  Â  Â  flex-shrink: 0; /* Prevent shrinking in flex container */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Custom checked state for radio buttons */
Â  Â  Â  Â  .option-label input[type="radio"]:checked {
Â  Â  Â  Â  Â  Â  background-color: #007bff; /* Blue fill when checked */
Â  Â  Â  Â  Â  Â  border-color: #007bff; /* Blue border when checked */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Inner dot for custom radio button when checked */
Â  Â  Â  Â  .option-label input[type="radio"]:checked::before {
Â  Â  Â  Â  Â  Â  content: '';
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  width: 0.625rem; /* Size of the inner dot */
Â  Â  Â  Â  Â  Â  height: 0.625rem;
Â  Â  Â  Â  Â  Â  background-color: white; /* White dot */
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%); /* Center the dot */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Style for the short answer input field */
Â  Â  Â  Â  /* FIX: Adjusted CSS to allow full width via Tailwind class */
Â  Â  Â  Â  .short-answer-input {
Â  Â  Â  Â  Â  Â  padding: 0.75rem 1rem; /* Padding inside input */
Â  Â  Â  Â  Â  Â  margin-bottom: 1.5rem; /* Space below input */
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd; /* Light gray border */
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem; /* Rounded corners */
Â  Â  Â  Â  Â  Â  font-size: 1rem; /* Base font size */
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05); /* Subtle inner shadow */
Â  Â  Â  Â  Â  Â  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  .short-answer-input:focus {
Â  Â  Â  Â  Â  Â  border-color: #007bff; /* Blue border on focus */
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25); /* Focus ring effect */
Â  Â  Â  Â  Â  Â  outline: none; /* Remove default outline */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Utility class to hide elements */
Â  Â  Â  Â  .hidden {
Â  Â  Â  Â  Â  Â  display: none !important; /* Force hide */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Feedback message styling (correct/incorrect) */
Â  Â  Â  Â  #feedback {
Â  Â  Â  Â  Â  Â  margin-top: 1.5rem; /* Space above feedback */
Â  Â  Â  Â  Â  Â  padding: 1rem; /* Padding inside feedback box */
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem; /* Rounded corners */
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1.125rem; /* text-lg */
Â  Â  Â  Â  }

Â  Â  Â  Â  .correct {
Â  Â  Â  Â  Â  Â  background-color: #d4edda; /* Light green background */
Â  Â  Â  Â  Â  Â  color: #155724; /* Dark green text */
Â  Â  Â  Â  Â  Â  border: 1px solid #c3e6cb; /* Green border */
Â  Â  Â  Â  }

Â  Â  Â  Â  .incorrect {
Â  Â  Â  Â  Â  Â  background-color: #f8d7da; /* Light red background */
Â  Â  Â  Â  Â  Â  color: #721c24; /* Dark red text */
Â  Â  Â  Â  Â  Â  border: 1px solid #f5c6cb; /* Red border */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Result display at the end */
Â  Â  Â  Â  #result {
Â  Â  Â  Â  Â  Â  margin-top: 1.5rem; /* Space above result */
Â  Â  Â  Â  Â  Â  font-size: 1.5rem; /* text-2xl */
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #333; /* Dark gray text */
Â  Â  Â  Â  }
        
        /* New styles for the mute button container and button */
        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        #mute-btn {
            background-color: #f1f1f1;
            color: #333;
            font-size: 0.875rem; /* text-sm */
            padding: 0.5rem 0.75rem;
            border-radius: 9999px; /* rounded-full */
            border: 1px solid #ccc;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #mute-btn:hover {
            background-color: #e0e0e0;
        }

Â  Â  Â  Â  /* Responsive adjustments for smaller screens */
Â  Â  Â  Â  @media (max-width: 640px) {
Â  Â  Â  Â  Â  Â  .quiz-container {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 1rem; /* Smaller padding on small screens */
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 2rem; /* Adjust title size for small screens */
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .question-text {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.1rem; /* Adjust question text size */
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .option-label {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 0.6rem 0.8rem; /* Smaller padding for options */
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 0.95rem; /* Smaller font size for options */
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .short-answer-input {
Â  Â  Â  Â  Â  Â  Â  Â  padding: 0.6rem 0.8rem; /* Smaller padding for input */
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  Â  Â  width: 100%; /* Full width buttons on small screens */
Â  Â  Â  Â  Â  Â  Â  Â  padding: 0.8rem 1.2rem; /* Slightly smaller button padding */
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body class="font-inter">
    
    <audio id="bg-song" src="song.mp3" loop></audio>

Â  Â  <div class="min-h-screen flex items-center justify-center p-4">
Â  Â  Â  Â  <div class="bg-white rounded-xl shadow-lg p-6 sm:p-8 w-full max-w-md md:max-w-lg lg:max-w-xl">
Â  Â  Â  Â  Â  Â  
            <div class="header-controls">
                <h1 class="text-3xl sm:text-4xl font-bold text-blue-800">SDG 2 Quiz</h1>
                <button id="mute-btn" onclick="toggleMute()">
                    ğŸ”‡ Mute Music
                </button>
            </div>
            
Â  Â  Â  Â  Â  Â  <div id="quiz" class="space-y-4">
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="flex flex-col sm:flex-row justify-center mt-6 space-y-3 sm:space-y-0 sm:space-x-4">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="submit-btn" class="bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:from-green-600 hover:to-green-700 transition duration-300 ease-in-out transform hover:scale-105">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Submit Answer
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="next-btn" class="hidden bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition duration-300 ease-in-out transform hover:scale-105">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Next Question
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="feedback" class="hidden mt-6 p-4 rounded-lg text-center font-bold text-lg">
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="result" class="hidden mt-6 p-4 rounded-lg text-center font-bold text-xl text-gray-700">
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="text-center text-gray-500 text-sm mt-8">
Â  Â  Â  Â  Â  Â  Â  Â  Made by Fionn Syam and Emil Sharafeev
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // Define the quiz questions as an array of objects
Â  Â  Â  Â  // NOTE: Using the corrected historical questions from the previous response.
Â  Â  Â  Â  const quizQuestions = [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  question: "Who established the Mughal Empire in India by defeating Ibrahim Lodi?",
Â  Â  Â  Â  Â  Â  Â  Â  type: 'multiple_choice',
Â  Â  Â  Â  Â  Â  Â  Â  options: ["Humayun", "Akbar", "Babur", "Shah Jahan"],
Â  Â  Â  Â  Â  Â  Â  Â  answer: "Babur"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  question: "True or False: A major reason Babur won the First Battle of Panipat was his superior numbers.",
Â  Â  Â  Â  Â  Â  Â  Â  type: 'true_false',
Â  Â  Â  Â  Â  Â  Â  Â  answer: "False"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  question: "What was the battle between Babur and Ibrahim Lodi called",
Â  Â  Â  Â  Â  Â  Â  Â  type: 'short_answer',
Â  Â  Â  Â  Â  Â  Â  Â  answer: "First Battle of Panipat"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  question: "How long did Emperor Akbar reign (in years, approximately)?",
Â  Â  Â  Â  Â  Â  Â  Â  type: 'short_answer',
Â  Â  Â  Â  Â  Â  Â  Â  answer: "49"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  question: "How old was Akbar when he was crowned Emperor?",
Â  Â  Â  Â  Â  Â  Â  Â  type: 'multiple_choice',
Â  Â  Â  Â  Â  Â  Â  Â  options: ["10", "11", "12", "13"],
Â  Â  Â  Â  Â  Â  Â  Â  answer: "13"
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ];


Â  Â  Â  Â  // Initialize quiz state variables
Â  Â  Â  Â  let currentQuestionIndex = 0; // Tracks the current question being displayed
Â  Â  Â  Â  let score = 0; // Stores the user's score
Â  Â  Â  Â  let shuffledQuestions = []; // Array to hold questions in random order

Â  Â  Â  Â  // Get references to DOM elements
Â  Â  Â  Â  const quizDiv = document.getElementById('quiz');
Â  Â  Â  Â  const submitButton = document.getElementById('submit-btn');
Â  Â  Â  Â  const nextButton = document.getElementById('next-btn');
Â  Â  Â  Â  const feedbackDiv = document.getElementById('feedback');
Â  Â  Â  Â  const resultDiv = document.getElementById('result');
        const bgSong = document.getElementById('bg-song'); // Reference to the audio element
        const muteButton = document.getElementById('mute-btn'); // Reference to the mute button

Â  Â  Â  Â  // Event listener to start the quiz when the DOM is fully loaded
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', startGame);
        
        // Try to play music automatically when the quiz starts
        document.addEventListener('DOMContentLoaded', () => {
            // Note: Many browsers block autoplay unless user interaction has occurred.
            // This is a common workaround: attempt to play upon the first user click/interaction.
            document.body.addEventListener('click', attemptPlay, { once: true });
        });
        
        function attemptPlay() {
            bgSong.volume = 0.5; // Set volume lower so it's not too intrusive
            bgSong.play().catch(error => {
                // If autoplay fails, console log or handle error (e.g., show a 'Play Music' button)
                console.log("Autoplay blocked. User must interact to start music.");
            });
        }


        /**
         * Toggles the mute state of the background music and updates the button text.
         */
        function toggleMute() {
            if (bgSong.muted) {
                bgSong.muted = false;
                muteButton.innerHTML = 'ğŸ”‡ Mute Music'; // Change button text/icon
            } else {
                bgSong.muted = true;
                muteButton.innerHTML = 'ğŸ”Š Unmute Music'; // Change button text/icon
            }
        }
        window.toggleMute = toggleMute; // Make function globally accessible from onclick attribute


Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Initializes the quiz: shuffles questions, resets score and index,
Â  Â  Â  Â  Â * and displays the first question.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function startGame() {
Â  Â  Â  Â  Â  Â  // Create a shallow copy of the quizQuestions array to avoid modifying the original
Â  Â  Â  Â  Â  Â  shuffledQuestions = [...quizQuestions];

Â  Â  Â  Â  Â  Â  // Fisher-Yates shuffle algorithm to randomize question order
Â  Â  Â  Â  Â  Â  for (let i = shuffledQuestions.length - 1; i > 0; i--) {
Â  Â  Â  Â  Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  Â  Â  Â  Â  [shuffledQuestions[i], shuffledQuestions[j]] = [shuffledQuestions[j], shuffledQuestions[i]];
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Reset quiz state
Â  Â  Â  Â  Â  Â  currentQuestionIndex = 0;
Â  Â  Â  Â  Â  Â  score = 0;

Â  Â  Â  Â  Â  Â  // Ensure correct button visibility and clear previous feedback/results
Â  Â  Â  Â  Â  Â  submitButton.classList.remove('hidden'); // Show submit button
Â  Â  Â  Â  Â  Â  nextButton.classList.add('hidden');Â  Â  // Hide next button
Â  Â  Â  Â  Â  Â  feedbackDiv.classList.add('hidden');Â  Â // Hide feedback
Â  Â  Â  Â  Â  Â  resultDiv.classList.add('hidden');Â  Â  Â // Hide results

Â  Â  Â  Â  Â  Â  // Display the first question
Â  Â  Â  Â  Â  Â  displayQuestion();
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Displays the current question based on `currentQuestionIndex`.
Â  Â  Â  Â  Â * Renders different input types (radio, text) based on question type.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function displayQuestion() {
Â  Â  Â  Â  Â  Â  // Clear previous feedback and reset its styling
Â  Â  Â  Â  Â  Â  feedbackDiv.classList.add('hidden');
Â  Â  Â  Â  Â  Â  feedbackDiv.textContent = '';
Â  Â  Â  Â  Â  Â  feedbackDiv.className = 'hidden mt-6 p-4 rounded-lg text-center font-bold text-lg'; // Reset classes

Â  Â  Â  Â  Â  Â  // Adjust button visibility for a new question
Â  Â  Â  Â  Â  Â  submitButton.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  nextButton.classList.add('hidden');

Â  Â  Â  Â  Â  Â  // Check if there are more questions to display
Â  Â  Â  Â  Â  Â  if (currentQuestionIndex < shuffledQuestions.length) {
Â  Â  Â  Â  Â  Â  Â  Â  const q = shuffledQuestions[currentQuestionIndex];
Â  Â  Â  Â  Â  Â  Â  Â  let questionHtml = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="question-text">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-semibold mb-2">Question ${currentQuestionIndex + 1}:</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-700">${q.question}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  // Render options based on question type
Â  Â  Â  Â  Â  Â  Â  Â  if (q.type === 'multiple_choice') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  questionHtml += '<div class="options-container">';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  q.options.forEach((option) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  questionHtml += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="option-label flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="radio" name="answer" value="${option}" class="mr-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${option}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  questionHtml += '</div>';
Â  Â  Â  Â  Â  Â  Â  Â  } else if (q.type === 'true_false') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  questionHtml += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="options-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="option-label flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="radio" name="answer" value="True" class="mr-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>True</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="option-label flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="radio" name="answer" value="False" class="mr-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>False</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  } else if (q.type === 'short_answer') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  questionHtml += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" class="short-answer-input block w-full p-3 border border-gray-300 rounded-lg text-lg focus:ring-blue-500 focus:border-blue-500" id="short-answer" placeholder="Type your answer here">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  quizDiv.innerHTML = questionHtml; // Update the quiz container with the new question
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // If no more questions, show the final results
Â  Â  Â  Â  Â  Â  Â  Â  showResults();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Add event listeners for the submit and next buttons
Â  Â  Â  Â  submitButton.addEventListener('click', checkAnswer);
Â  Â  Â  Â  nextButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  currentQuestionIndex++; // Move to the next question
Â  Â  Â  Â  Â  Â  displayQuestion();Â  Â  Â // Display the next question
Â  Â  Â  Â  });

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Checks the user's answer against the correct answer for the current question.
Â  Â  Â  Â  Â * Updates score and displays feedback.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function checkAnswer() {
Â  Â  Â  Â  Â  Â  const q = shuffledQuestions[currentQuestionIndex];
Â  Â  Â  Â  Â  Â  let userAnswer;

Â  Â  Â  Â  Â  Â  // Get user's answer based on question type
Â  Â  Â  Â  Â  Â  if (q.type === 'multiple_choice' || q.type === 'true_false') {
Â  Â  Â  Â  Â  Â  Â  Â  const selectedOption = quizDiv.querySelector('input[name="answer"]:checked');
Â  Â  Â  Â  Â  Â  Â  Â  userAnswer = selectedOption ? selectedOption.value : null; // Get value or null if nothing selected
Â  Â  Â  Â  Â  Â  } else if (q.type === 'short_answer') {
Â  Â  Â  Â  Â  Â  Â  Â  userAnswer = quizDiv.querySelector('#short-answer').value.trim(); // Get trimmed text input
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  let isCorrect = false;
Â  Â  Â  Â  Â  Â  // Compare user's answer (case-insensitive) with the correct answer
Â  Â  Â  Â  Â  Â  // Trim whitespace from user answer to handle accidental spaces in short answers
Â  Â  Â  Â  Â  Â  if (userAnswer && userAnswer.trim().toLowerCase() === q.answer.toLowerCase()) {
Â  Â  Â  Â  Â  Â  Â  Â  isCorrect = true;
Â  Â  Â  Â  Â  Â  }
            // Added check to accept "Battle of Panipat" for the short answer question
            if (!isCorrect && q.question.includes("Babur and Ibrahim Lodi") && userAnswer.trim().toLowerCase() === "battle of panipat") {
                isCorrect = true; 
            }


Â  Â  Â  Â  Â  Â  // Display feedback
Â  Â  Â  Â  Â  Â  feedbackDiv.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  if (isCorrect) {
Â  Â  Â  Â  Â  Â  Â  Â  feedbackDiv.textContent = "Correct! âœ…";
Â  Â  Â  Â  Â  Â  Â  Â  feedbackDiv.className = 'correct mt-6 p-4 rounded-lg text-center font-bold text-lg'; // Apply correct styling
Â  Â  Â  Â  Â  Â  Â  Â  score++; // Increment score if correct
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  feedbackDiv.textContent = `Incorrect. âŒ The correct answer was: ${q.answer}`;
Â  Â  Â  Â  Â  Â  Â  Â  feedbackDiv.className = 'incorrect mt-6 p-4 rounded-lg text-center font-bold text-lg'; // Apply incorrect styling
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Hide submit button, show next button
Â  Â  Â  Â  Â  Â  submitButton.classList.add('hidden');
Â  Â  Â  Â  Â  Â  nextButton.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  // Disable all inputs for the current question after submission to prevent re-answering
Â  Â  Â  Â  Â  Â  const inputs = quizDiv.querySelectorAll('input');
Â  Â  Â  Â  Â  Â  inputs.forEach(input => input.disabled = true);
Â  Â  Â  Â  }

Â  Â  Â  Â  /**
Â  Â  Â  Â  Â * Displays the final quiz results, score, and a personalized message.
Â  Â  Â  Â  Â */
Â  Â  Â  Â  function showResults() {
Â  Â  Â  Â  Â  Â  quizDiv.innerHTML = ''; // Clear the quiz content area
Â  Â  Â  Â  Â  Â  submitButton.classList.add('hidden'); // Hide buttons
Â  Â  Â  Â  Â  Â  nextButton.classList.add('hidden');
Â  Â  Â  Â  Â  Â  feedbackDiv.classList.add('hidden'); // Hide feedback

Â  Â  Â  Â  Â  Â  resultDiv.classList.remove('hidden'); // Show results div

Â  Â  Â  Â  Â  Â  let resultText = `<p class="mb-4">You scored ${score} out of ${shuffledQuestions.length}.</p>`;
Â  Â  Â  Â  Â  Â  // Provide different messages based on performance
Â  Â  Â  Â  Â  Â  if (score === shuffledQuestions.length) {
Â  Â  Â  Â  Â  Â  Â  Â  resultText += "<p class='text-green-600'>Excellent! You got all correct! ğŸ‰</p>";
Â  Â  Â  Â  Â  Â  } else if (score >= shuffledQuestions.length * 0.7) {
Â  Â  Â  Â  Â  Â  Â  Â  resultText += "<p class='text-blue-600'>Well done! You have a good understanding. ğŸ‘</p>";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  resultText += "<p class='text-red-600'>Keep practicing! There's room for improvement. ğŸ“š</p>";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  resultDiv.innerHTML = resultText; // Update results div
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
